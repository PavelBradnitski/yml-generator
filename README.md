# YML Generator for BeSeller API

## Описание

Это консольное приложение на Go, которое получает данные о товарах и категориях из демонстрационного GraphQL API интернет-магазина BeSeller. На основе полученных данных приложение генерирует YML (Yandex Market Language) файл, полностью совместимый с требованиями Яндекс.Маркета.

## Ключевые особенности

- **Получение данных по GraphQL:** Эффективное взаимодействие с API для получения категорий и товаров.
- **Фильтрация на стороне сервера:** Запрашиваются только товары с определенным статусом (`statusId: 1`).
- **Корректная сборка URL:** Динамическое построение ссылок на товары на основе данных из API.

## Структура проекта

Проект имеет четко определенную структуру для разделения ответственности:

```
├── cmd/                # Главная точка входа в приложение
│   └── main.go
├── internal/           # Внутренние пакеты, не предназначенные для импорта извне
│   ├── client/         # Логика взаимодействия с внешним GraphQL API
│   ├── converter/      # Логика преобразования данных из формата API в формат YML
│   ├── generator/      # Логика записи YML-структуры в файл
│   └── models/         # Определения всех структур данных (для API и YML)
├── .github/workflows/  # Для автоматизации CI/CD с помощью GitHub Actions
├── go.mod
├── go.sum
└── README.md
```

## Начало работы

### Требования

- Установленный **Go** (версия 1.20 или выше).

### Установка

1.  Клонируйте репозиторий:
    ```sh
    git clone https://github.com/PavelBradnitski/yml-generator.git
    ```
2.  Перейдите в директорию проекта:
    ```sh
    cd yml-generator
    ```
3.  Загрузите зависимости:
    ```sh
    go mod tidy
    ```

## Использование

Приложение запускается из командной строки и требует указания API-токена.

### Переменные окружения

Скопируйте файл `env.example` в `.env` и настройте переменные под ваше окружение:

### Запуск приложения

Выполните команду из корневой папки проекта

```sh
go run ./cmd/main.go
```

После успешного выполнения в корневой папке проекта будет создан `shop.yml` (или файл с вашим названием).

## Запуск тестов

Для проверки корректности работы всех модулей выполните команду из корневой папки проекта:

```sh
go test -v ./...
```
